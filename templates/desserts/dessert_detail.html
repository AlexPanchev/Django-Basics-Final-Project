{% extends "base.html" %}
{% load static %}
{% load dessert_filters %}

{% block title %}{{ dessert.name }}{% endblock %}

{% block content %}
<div class="container py-5" style="padding-top: 7rem;">

    <div class="dessert-detail-wrapper">

        <div class="dessert-detail-left">
            {% if dessert.image %}
                <img src="{{ dessert.image.url }}" alt="{{ dessert.name }}" class="dessert-detail-img shadow">
            {% else %}
                <img src="{% static 'media/no-image.jpg' %}" class="dessert-detail-img shadow" alt="No image">
            {% endif %}
        </div>

        <div class="dessert-detail-right">
            <div class="dessert-details-box p-4 rounded shadow">

                <h2 class="mb-3">{{ dessert.name }}</h2>

                <p><strong>Description:</strong> {{ dessert.description }}</p>

                <p><strong>Price:</strong> {{ dessert.price|euro }}</p>

                <p><strong>Category:</strong> {{ dessert.category.name }}</p>

                <h4 class="mt-4">Ingredients:</h4>
                <ul>
                    {% for ingredient in dessert.ingredients.all %}
                        <li>{{ ingredient.name }}</li>
                    {% empty %}
                        <li>No ingredients listed.</li>
                    {% endfor %}
                </ul>

                <p class="mt-3"><strong>Available:</strong> {{ dessert.is_available|yesno:"Yes,No" }}</p>

                <div class="mt-4 d-flex gap-3">
                    <a href="{% url 'dessert_edit' dessert.pk %}" class="btn btn-green btn-lg">Edit</a>
                    <a href="{% url 'dessert_delete' dessert.pk %}" class="btn btn-green btn-lg">Delete</a>
                </div>

            </div>
        </div>

    </div>

</div>
{% endblock %}